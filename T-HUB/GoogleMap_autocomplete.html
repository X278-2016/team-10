<!doctype html>
<html>
   <head>
      <meta charset="utf-8">
      <title></title>
      <script type="text/javascript" src="http://maps.google.com/maps/api/js?v=3.23&libraries=places"></script>
      <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.5.1/jquery.min.js"></script>
      <script type="text/javascript">
         var service = new google.maps.places.AutocompleteService();
         var params = {};
         
         var returnSuggestions = function(predictions, status) {
             if (status != google.maps.places.PlacesServiceStatus.OK) {
               return;
            }
             
            var returnAddress = [];
           predictions.forEach(function(prediction) {
               // var li = document.createElement('li');
               // li.appendChild(document.createTextNode(prediction.description));
               //  console.log(prediction.description);
               returnAddress.push(prediction.description);
            });
            //var returnJSON = {
            //    tag: params.tag,
            //    address: returnAddress
            //};
           window.location = 'autocomplete://dummy.com/'+JSON.stringify(returnAddress);
         };
         
         function addressAutoComplete() {
         service.getQueryPredictions({ input: params.address}, returnSuggestions);
         }
         
         var start = function(diameter) {
         params = JSON.parse(diameter);
         addressAutoComplete();
         }
      </script>
   </head>
   <body></body>
</html>